<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>counsel api documentation</title>
    <link rel="stylesheet" href="github-markdown.css">
    <style>
      body {
        padding: 3vw;
        max-width: 900px;
        margin: auto;
      }
    </style>
  </head>
  <body class="markdown-body">
    <a href="https://github.com/cdaringe/counsel"><img style="position: absolute; top: 0; right: 0; border: 0;"    src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
    <p align="center"><img height="200px" src="https://github.com/cdaringe/counsel/raw/master/img/counsel.png" /></p>

<h1 id="counsel">counsel</h1>
<p>the end of boilerplate. automatically bake structure, opinions, and biz rules into projects!</p>
<p><a href="https://app.codeship.com/projects/176370"> <img src="https://app.codeship.com/projects/38b24cc0-684a-0134-dd3d-5ade36a91ecb/status?branch=master" alt="Codeship Status for cdaringe/counsel"></a>
<img src="https://img.shields.io/badge/standardjs-%E2%9C%93-brightgreen.svg" alt=""></p>
<h2 id="install">install</h2>
<p><code>npm i --save counsel</code></p>
<h2 id="usage">usage</h2>
<p>docs: <a href="https://cdaringe.github.io/counsel/">cdaringe.github.io/counsel</a>. package level doc links may be found at the <em>bottom</em> of the linked page.</p>
<p>before <code>counsel</code>, you have a boring-old-package:</p>
<pre><code class="lang-js">// package.json
{
  &quot;name&quot;: &quot;boring-old-package&quot;,
  ...
}
</code></pre>
<p>but, you want to keep up to date with your team&#39;s latest and greatest patterns.  no problem, build &amp; publish a small <code>counsel</code> tool!</p>
<pre><code class="lang-js">// package.json
{
  &quot;name&quot;: &quot;my-counsel-tool&quot;,
  &quot;scripts&quot;: {
    &quot;install&quot;: &quot;node my-counsel-tool.js&quot;
  }
}
</code></pre>
<pre><code class="lang-js">// my-counsel-tool.js
const counsel = require(&#39;counsel&#39;)
const ScriptRule = require(&#39;counsel-script&#39;)
const PreCommitRule = require(&#39;counsel-precommit&#39;)
counsel.apply([
  new ScriptRule({
    dependencies: [&#39;standard&#39;]
    scriptName: &#39;lint&#39;,
    scriptCommand: &#39;standard&#39;
  }),
  new PreCommitRule({
    preCommitTasks: [&#39;validate&#39;, &#39;lint&#39;, &#39;test&#39;, &#39;check-coverage&#39;]
    // ^ will install a git pre-commit hook that runs these npm scripts
  })
])
</code></pre>
<p>install <code>my-counsel-tool</code> into <code>boring-old-package</code>:</p>
<pre><code class="lang-js">// package.json
{
  &quot;name&quot;: &quot;boring-old-package&quot;,
  &quot;dependencies&quot;: {
    &quot;standard&quot;: &quot;^4.0.1&quot;,
    &quot;my-counsel-tool&quot;: &quot;^1.0.0&quot;
  },
  &quot;scripts&quot;: {
    &quot;lint&quot;: &quot;standard&quot;,
    ...
  },
  &quot;pre-commit&quot;: [
    &quot;validate&quot;,
    &quot;lint&quot;,
    &quot;test&quot;,
    &quot;check-coverage&quot;
  ]
}
</code></pre>
<p>wow! not so boring after all now, is it?  when <code>my-counsel-tool</code> installs or updates, it can update your package!  it is <em>not</em> limited to your <code>package.json</code>, of course.  make rules to do anything to your repo on <code>install</code>, on some git <code>hook</code> event, or any <code>npm</code> event!</p>
<h2 id="what">what</h2>
<p>so what is it?</p>
<p>it&#39;s the end of boilerplate. automatically bake structure, opinions, and biz rules into projects.</p>
<p>are you familiar with a reference repo? boilerplate repo?  template repo?  if you are, you know they grow stale.  counsel eliminates the need for these sorts of projects.  instead, counsel allows your team or company to roll personalized tooling that is shared across every package as a development dependency.  it automatically applies your opinions, your formats, your templates, your test scripts, your lint configurations, your &quot;whatevers&quot; per your own desire, with very little effort.</p>
<p>counsel is a framework for applying business rules and opinions into packages.</p>
<p>counsel should <em>rarely</em> be installed directly into general projects.  instead, use it to make a shared tool.  place all the rules you want into the tool and release it as a standalone package.</p>
<h2 id="docs">docs</h2>
<p>the official api docs live <a href="https://cdaringe.github.io/counsel/">here</a>.  all other topics covered in the readme are for quickstart only!</p>
<h2 id="rules">rules</h2>
<p><code>counsel</code> is composed of sets of <code>Rule</code>s to apply to your package.  provide it a set of rules, and it will fulfill them.</p>
<p><strong>&quot;how do i make my <em>own</em> rules?</strong>.  making rules is very easy!  see <a href="https://cdaringe.github.io/counsel/counsel-rule/">counsel-rule</a> for more info.</p>
<h2 id="configure">configure</h2>
<p>some rules aren&#39;t so simple.  for rules that offer configuration, you can add your config in package.json:</p>
<p><code>&quot;counsel&quot;: { &quot;counsel-plugin&quot;: { &quot;ignore&quot;: true } }</code></p>
<p>it is <strong>recommended</strong> that in your <code>my-counsel-tool</code> package, to squash <code>counsel.configKey = &#39;my-counsel-tool&#39;</code>, such that now, you can load config like:</p>
<p><code>&quot;my-counsel-tool&quot;: { &quot;counsel-plugin&quot;: { &quot;ignore&quot;: true } }</code></p>
<h2 id="todo">todo</h2>
<ul>
<li>readme-plugin (assert readme present)</li>
<li>~template-plugin (apply swig-templates to file(s). e.g. auto-build readme)~</li>
<li>docs (jsdoc plugin. add doc script, add docs on postpublish apply .jsdoc.json)</li>
<li>filename convention (assert filenames are, say, kebab-cased.js)</li>
<li><del>formalize api docs!</del></li>
<li><del>script rule, allow by default for stacked scripts to <code>&amp;&amp;</code> onto each other</del></li>
<li><del>lint</del> &lt;== ScriptRule fulfills</li>
<li><del>pre-commit</del></li>
<li><del>nsp</del> &lt;== Script + PreCommit fulfills</li>
</ul>
<h2 id="logo-credit">logo credit</h2>
<p><a href="https://github.com/margdking">margdking</a></p>

    <a id="api-docs"></a>
    <h3>counsel api documentation</h3>
    <p>
      counsel is comprised of many libraries to make it great!
      please use the below links to navigate to package specific api docs.
    </p>

    <ul>
      
        <li>
          <section>
            <h3><a href="counsel">counsel</a></h3>
            <p>the end of boilerplate. automatically bake structure, opinions, and biz rules into projects!</p>
          </section>
        </li>
      
        <li>
          <section>
            <h3><a href="counsel-copy">counsel-copy</a></h3>
            <p>copy files/folders from a counsel project into a target project.</p>
          </section>
        </li>
      
        <li>
          <section>
            <h3><a href="counsel-precommit">counsel-precommit</a></h3>
            <p>enables npm tasks to be run on git&#39;s pre-commit event. installs tasks to run on precommit.</p>
          </section>
        </li>
      
        <li>
          <section>
            <h3><a href="counsel-rule">counsel-rule</a></h3>
            <p></p>
          </section>
        </li>
      
        <li>
          <section>
            <h3><a href="counsel-script">counsel-script</a></h3>
            <p>adds a npm script to package.json</p>
          </section>
        </li>
      
        <li>
          <section>
            <h3><a href="counsel-template">counsel-template</a></h3>
            <p>runs a template engine against a template file!</p>
          </section>
        </li>
      
    </ul>
  </body>
</html>
