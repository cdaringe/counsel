<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Counsel.html">Counsel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Counsel.html#apply">apply</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Counsel.html#check">check</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Counsel.html#installDeps">installDeps</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Counsel.html#installDevs">installDevs</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Counsel.html#isTargetPackageDirty">isTargetPackageDirty</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Counsel.html#jsonRead">jsonRead</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Counsel.html#setTargetPackageMeta">setTargetPackageMeta</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Counsel.html#writeTargetPackage">writeTargetPackage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Project.html">Project</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Project.html#findGitRoot">findGitRoot</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Project.html#findParentPackage">findParentPackage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Project.html#findProjectRoot">findProjectRoot</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Project.html#isDir">isDir</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-logger.html">logger</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-logger.html#.createLogger">createLogger</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><p align="center"><img height="200px" src="https://github.com/cdaringe/counsel/raw/master/img/counsel.png" /></p>

<h1>counsel</h1><p>the end of boilerplate. bake structure, opinions, and rules into projects.</p>
<p>it's kind of like <a href="http://yeoman.io/">yeoman/yo</a>, but as a source controlled dependency that brings shared behaviors to all of your packages, beyond just project structure.</p>
<p><code>counsel</code> is for <strong>project maintainers</strong>.  counsel makes sense for people who are developing <em>many</em> projects.  counsel doesn't always make sense for teams or maintainers working on just a single project or two.</p>
<p><a href="https://app.codeship.com/projects/176370"> <img src="https://app.codeship.com/projects/38b24cc0-684a-0134-dd3d-5ade36a91ecb/status?branch=master" alt="Codeship Status for cdaringe/counsel"></a>
<img src="https://img.shields.io/badge/standardjs-%E2%9C%93-brightgreen.svg" alt=""></p>
<h2>install</h2><p><code>npm install [-g|--save-dev] counsel</code></p>
<h2>usage</h2><p>counsel is a CLI and a library.  here's a quick intro to the CLI:</p>
<p><code>$ [npx] counsel apply &lt;rule|ruleset&gt;</code></p>
<p>suppose you are authoring a node library.  suppose you've also defined a set of rules you
want applied to your node libraries. let's apply those rules:</p>
<pre class="prettyprint source lang-bash"><code>$ counsel apply counsel-ruleset-nodelib
info: [counsel] installing development dependencies: counsel-ruleset-nodelib, husky, standard, jsdock</code></pre><p>cool. it installed <strong>rules</strong> as well as supporting packages.  in fact, let's see the diff:</p>
<pre class="prettyprint source lang-diff"><code>$ gd
diff --git a/package.json b/package.json
index cfd7948..059b05d 100644
--- a/package.json
+++ b/package.json
@@ -4,9 +4,27 @@
   &quot;description&quot;: &quot;&quot;,
   &quot;main&quot;: &quot;index.js&quot;,
   &quot;scripts&quot;: {
+    &quot;precommit&quot;: &quot;run-p check lint check-vulnerablities&quot;,
+    &quot;check&quot;: &quot;counsel check&quot;,
+    &quot;lint&quot;: &quot;standard&quot;,
+    &quot;docs:clean&quot;: &quot;jsdock clean&quot;,
+    &quot;docs:build&quot;: &quot;jsdock build&quot;,
+    &quot;docs:publish&quot;: &quot;jsdock publish&quot;
   },
   &quot;keywords&quot;: [],
   &quot;author&quot;: &quot;&quot;,
-  &quot;license&quot;: &quot;ISC&quot;
+  &quot;license&quot;: &quot;ISC&quot;,
+  &quot;devDependencies&quot;: {
+    &quot;counsel&quot;: &quot;^0.4.1&quot;,
+    &quot;counsel-ruleset-nodelib&quot;: &quot;^0.4.1&quot;,
+    &quot;husky&quot;: &quot;^0.14.3&quot;,
+    &quot;jsdock&quot;: &quot;^1.0.2&quot;,
+    &quot;npm-run-all&quot;: &quot;^4.1.1&quot;,
+    &quot;standard&quot;: &quot;^10.0.3&quot;
+  }
 }</code></pre><p>some of our rules added packages and modified npm scripts.</p>
<p>now that we have a ruleset installed, let's make sure those rules are enforced.</p>
<pre class="prettyprint source lang-bash"><code>$ counsel check
error: [counsel] README.md not found at: /Users/cdieringer/node/&lt;pkg>/README.md</code></pre><p>we have a rule that mandates READMEs are present.  smart.  our
ruleset also loaded a rule that runs <code>counsel check</code> every time we commit to make
sure we keep in line.  double smart!</p>
<p>as your rules change, you can update your ruleset and bring aged projects up to speed.</p>
<p>for an example of a ruleset, see <a href="https://github.com/cdaringe/counsel/blob/master/packages/counsel-ruleset-nodelib/src/index.js">counsel-ruleset-nodelib</a>.</p>
<h2>docs</h2><p>the official api docs live <a href="https://cdaringe.github.io/counsel/">here</a>.  all other topics covered in the readme are for quickstart only!</p>
<h3>rules</h3><p><code>counsel</code> is composed of sets of <code>Rule</code>s to apply to your package.  provide it a set of rules, and it will fulfill them.</p>
<p><strong>&quot;how do i make my <em>own</em> rules?</strong>.  making rules is very easy!  see <a href="https://cdaringe.github.io/counsel/counsel-rule/">counsel-rule</a> for more info.</p>
<h2>configuration</h2><p>you don't <em>need</em> to configure counsel.  however, if you so desire to, read on!</p>
<h3>configure rules</h3><p>some rules aren't so simple.  for rules that offer configuration, you can add your config in <code>overrides</code>:</p>
<pre class="prettyprint source lang-json5"><code>// package.json
{
  &quot;counsel&quot;: {
    &quot;overrides&quot;: {
      &quot;counsel-rule-widget-thing&quot;: { ...configuration }
      }
    }
  }
}</code></pre><p>see more in the <a href="https://cdaringe.github.io/counsel/counsel-rule/">counsel-rule</a> docs.</p>
<p>to opt in only for an explicit subset of rules that your tool provides, provide a set of rule names to the config:</p>
<pre class="prettyprint source lang-json"><code>// package.json
{
  &quot;counsel&quot;: {
    // list the rule names. you must name your rules, of course, for this to work
    &quot;rules&quot;: [&quot;readme-rule&quot;, &quot;test-rule&quot;, &quot;some-other-rule&quot;]
  }
}</code></pre><h3>configuration key</h3><p>this only applies to when using counsel in library mode.  you can squash the key
in your package.json where configuration comes from.  for instance, if you
embed counsel in a different tool like <code>super-team-tool</code>, counsel config can live
under the <code>super-team-tool</code> key in the package.json.</p>
<p>in <code>super-team-tool</code>, before calling any counsel methods, do:</p>
<pre class="prettyprint source lang-js"><code>counsel.configKey = 'super-team-tool' // rebrand counsel</code></pre><h1>logo credit</h1><p><a href="https://github.com/margdking">margdking</a></p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>