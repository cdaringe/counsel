{"data":{"markdownRemark":{"html":"<h2>install</h2>\n<p><code>yarn add --dev counsel</code></p>\n<p>alternatively, <code>npm install --save-dev counsel</code></p>\n<h2>usage</h2>\n<p>conventional usage is to add a <code>.counsel.ts</code> file to your project root dirname.</p>\n<pre><code class=\"language-ts\">// .counsel.ts\n\n// create a rule!\n// basic rule that enforces that the project has a readme file\nexport const assertReadmeExists: Rule = {\n  name: 'assert-readme-exists',\n  check: async ({ fs, path, config: { projectDirname } }) => {\n    const readmeFilename = path.resolve(projectDirname, 'readme.md')\n    const isReadmeReadable = await fs.lstat(readmeFilename).catch(() => false)\n    if (!isReadmeReadable) throw new Error('readme.md file missing')\n  }\n}\n\n// export your rules via a `create` function\nexport function create (opts: ContextWithRules) =>\n  ({ ...opts, rules: [assertReadmeExists] })\n</code></pre>\n<p>finally run <code>npx counsel apply</code>, or <code>npx counsel check</code>.</p>\n<p>run <code>npx counsel --help</code> for more!</p>\n<h3>concepts</h3>\n<p>counsel has only one major concept to understand--<code>Rule</code>s.  counsel can apply rules\nand check that rules are enforced as needed</p>\n<ol>\n<li>\n<p><code>Rule</code>s are basic interfaces with:</p>\n<ol>\n<li>a <code>name</code></li>\n<li>an optional <code>plan</code> function</li>\n<li>an optional <code>check</code> function</li>\n<li>an optional list of <code>dependencies</code></li>\n<li>an optional list of <code>devDependencies</code></li>\n</ol>\n</li>\n</ol>\n<p>in a nut-shell, <em>that's it</em>.  counsel is a small set of functions that run these\n<code>Rule</code>s against your project.</p>\n<p><code>plan</code> is pehaps the only abstract concept.  <code>plan</code> functions are thunks.  a <code>plan</code> returns a new function, which we call a <code>Migration</code>.  a <code>Migration</code> is responsible for creating changing the project in some way.  rather than mutating the project upfront, all changes to a project are encouraged to happen in the <code>Migration</code>.  this gives the user an opporitunity to <em>opt-out</em> of rules in counsel's interactive mode.</p>\n<p>what to read or try next is up to you!</p>\n<ul>\n<li><a href=\"./docs/examples.md\">try some examples</a></li>\n<li><a href=\"./docs/rules-batteries-included.md\">learn about the batteries-included rules that ship with counsel</a></li>\n</ul>","frontmatter":{"title":"Getting Started"}}},"pageContext":{"slug":"/jumpstart/"}}